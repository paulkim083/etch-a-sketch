<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8"/>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <h1>Etch-a-Sketch!</h1>
        <div class="container">
               
        </div>
        <button id="changeSize">Change size</button>
        <button id="rainbow">Rainbow</button>
        <button id="clear">Clear</button>
    </body>
    <script>
        const container = document.querySelector('.container');
        
        for (i = 0; i < 256; i++) {
            const div = document.createElement('div');
            div.style.border = '2px solid';
            
            div.style.padding ='0.1em'
            container.appendChild(div);
        }
        function addDivs(totalNum) {
            for (i = 0; i < totalNum; i++) {
                const div = document.createElement('div');
                div.style.border = '2px solid';
                
                div.style.padding ='0.1em'
                container.appendChild(div);
        }
        }


        let divList = container.querySelectorAll('div');

       
        container.addEventListener('mouseover', function (event) {
            if (event.target.classList == 'container') {
                /*put some code here?*/
            }
            else {
                event.target.style.backgroundColor = 'blue';}
        })

        const button = document.querySelector('#changeSize');
        

        const clear = document.querySelector('#clear');
        clear.addEventListener('click', function() { 
            divList.forEach(div => div.style.backgroundColor = 'white')
        })

        button.addEventListener('click', function (event) {
            if (event.target.getAttribute('id') == 'changeSize') {
                const userInput = window.prompt('Pick a size! (Up to 64)');

            if (userInput > 0 && userInput <= 64) {
                while(container.firstChild){
                    container.removeChild(container.firstChild);
                }
                totalNum = userInput * userInput;
                addDivs(totalNum);
                divList = container.querySelectorAll('div');

                const divSize = 512/userInput;
                document.documentElement.style.setProperty('--grid', `repeat(${userInput},${divSize}px)`);
            }
            else alert('Invalid');
            }
                
        const rainbowButton = document.querySelector('#rainbow'); 
        rainbowButton.addEventListener('click', function(event) {
            console.log('hi!');
        })   

        
        });
        
    </script>
</html>